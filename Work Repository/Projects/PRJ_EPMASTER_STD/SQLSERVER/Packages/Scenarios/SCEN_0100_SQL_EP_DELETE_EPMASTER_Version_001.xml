<?xml version="1.0" encoding="UTF-8"?>
<SunopsisExport>
<Admin RepositoryVersion="05.02.02.11" IsLegacyIdCompatible="false" />
<Encryption algorithm="AES" keyLength="128" exportKeyHash="" keyVect="NeZGxBFLnoJvIhgb9/98Yw==" exportKeySalt="2f9fd362-9219-4962-8986-d17cd86c8b20" containsCipherText="false"/>
<Object class="com.sunopsis.dwg.dbobj.SnpScen">
		<Field name="CecSessBehavior" type="java.lang.String">null</Field>
	<Field name="CecSessPollIntv" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ExtVersion" type="java.lang.String">null</Field>
	<Field name="FirstDate" type="java.sql.Timestamp">null</Field>
	<Field name="FirstUser" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[007808d0-0c19-3e32-8dcb-4d4145e1013e]]></Field>
	<Field name="IndChange" type="java.lang.String"><![CDATA[U]]></Field>
	<Field name="IndPromptParam" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="IntVersion" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="IsMaterialized" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IDeploySpec" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IMapping" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IPackage" type="com.sunopsis.sql.DbInt"><![CDATA[16]]></Field>
	<Field name="IPop" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IScenFolder" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITxtScen" type="com.sunopsis.sql.DbInt"><![CDATA[4496]]></Field>
	<Field name="IVar" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="LastDate" type="java.sql.Timestamp">null</Field>
	<Field name="LastUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="MaxCecSess" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="RepGuid" type="java.lang.String">null</Field>
	<Field name="RepVersion" type="java.lang.String">null</Field>
	<Field name="RestartType" type="java.lang.String">null</Field>
	<Field name="ScenName" type="java.lang.String"><![CDATA[0100_SQL_EP_DELETE_EPMASTER]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenSnapshotNo" type="com.sunopsis.sql.DbInt"><![CDATA[4]]></Field>
	<Field name="ScenVersion" type="java.lang.String"><![CDATA[001]]></Field>
	<Field name="VLastDate" type="java.sql.Timestamp">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpExpTxtHeader">
		<Field name="GlobalId" type="java.lang.String"><![CDATA[391369cf-6af0-4c11-a5be-9b43fca2b648]]></Field>
	<Field name="ITxt" type="com.sunopsis.sql.DbInt"><![CDATA[4496]]></Field>
	<Field name="Txt" type="java.lang.String"><![CDATA[Procedura di pulizia DB EPMASTER:
- Disable Constraint
- Delete Table
- Insert default rows
- Enable constraint

Nel cloud, ricordarsi di commentare USE [<%=odiRef.getCatalogName()%>] nel passo Prepare table -SCEN_STATUS=VALID]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenStep">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="CleanupOnError" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="ContextCode" type="java.lang.String">null</Field>
	<Field name="FContextCode" type="java.lang.String">null</Field>
	<Field name="GenInfo" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[f942685b-dfe7-425d-8e55-1b93378aff30]]></Field>
	<Field name="IndLogMethod" type="java.lang.String"><![CDATA[Y]]></Field>
	<Field name="ITxtVarValue" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="JagentLschemaName" type="java.lang.String">null</Field>
	<Field name="KoExit" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="KoExitCode" type="java.lang.String">null</Field>
	<Field name="KoNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="KoRetry" type="com.sunopsis.sql.DbInt"><![CDATA[3]]></Field>
	<Field name="KoRetryInterv" type="com.sunopsis.sql.DbInt"><![CDATA[60]]></Field>
	<Field name="LschemaName" type="java.lang.String">null</Field>
	<Field name="MaxErr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="MaxErrPrct" type="java.lang.String">null</Field>
	<Field name="ModCode" type="java.lang.String">null</Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OkExit" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="OkExitCode" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="OkNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="ResName" type="java.lang.String">null</Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="StepName" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS Disable Constraints]]></Field>
	<Field name="StepType" type="java.lang.String"><![CDATA[T]]></Field>
	<Field name="TableName" type="java.lang.String">null</Field>
	<Field name="VarIncr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="VarLongValue" type="java.lang.String">null</Field>
	<Field name="VarName" type="java.lang.String">null</Field>
	<Field name="VarOp" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String">null</Field>
	<Field name="ColTechIntName" type="java.lang.String">null</Field>
	<Field name="ColTxt" type="java.lang.String">null</Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[USE [<?=odiRef.getCatalogName() ?>]

DECLARE @list_of_tables NVARCHAR(MAX) = N'EP_PARTI, EP_PARTI_XXATTR, EP_PARTI_SIM, EP_PARTI_NODI, EP_MAGAZZINI, EP_AREE, EP_FORNITORI, EP_CLIENTI, EP_CANALI, EP_GIACENZE, EP_PIANO_VERSAMENTI, EP_ODL, EP_OC_TESTATA, EP_OC_RIGHE, EP_PREV_VENDITA, EP_DIST_PIANIF_TEST, EP_DIST_PIANIF_DETT, EP_CICLI_PIANIF_TEST, EP_CICLI_PIANIF_DETT, EP_DIMENSIONE1, EP_STO_VENDITE';

if not exists (select * from sysobjects where name='ODI_DELETE_CONSTRAINTS')

CREATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS -- feel free to use a permanent table
(
  DISABLE_SCRIPT NVARCHAR(MAX),
  ENABLE_SCRIPT NVARCHAR(MAX),
  DELETE_TABLES NVARCHAR(MAX),
  INSERT_DEFAULTS NVARCHAR(MAX)
);

TRUNCATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS; 
  
DECLARE @disable   NVARCHAR(MAX) = N'',
        @enable NVARCHAR(MAX) = N'',
        @delete   NVARCHAR(MAX) = N'',
        @insert NVARCHAR(MAX) = N'';

-- drop is easy, just build a simple concatenated list from sys.foreign_keys:
SELECT @disable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' NOCHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

INSERT [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS(DISABLE_SCRIPT) SELECT @disable;

SELECT @delete += N'DELETE FROM [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.' + ltrim(rtrim(value)) + '; '
FROM (select value from string_split(@list_of_tables,',')) P;

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET DELETE_TABLES = @delete;

SELECT @enable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' CHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET ENABLE_SCRIPT = @enable;


if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_PARTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_PARTI") ?> (PT_ID_PARTE,PT_ID_VERSIONE,PT_DESCR) VALUES (''*'',''*'',''Part not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_AREE')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_AREE") ?> (AR_ID_AREA,AR_DESCR) VALUES (''*'',''Not assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CLIENTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CLIENTI") ?> (CU_ID_CLIENTE,CU_DESCR) VALUES (''*'',''Customer not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CANALI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CANALI") ?> (CN_ID_CANALE,CN_DESCR) VALUES (''*'',''Not Assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_DIST_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_DIST_PIANIF_TEST") ?> (DT_ID_DISTINTA,DT_ID_VERSIONE,DT_DESCR) VALUES (''*'',''*'',''Missing BOM''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CICLI_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CICLI_PIANIF_TEST") ?> (CT_ID_CICLO,CT_ID_VERSIONE,CT_DESCR) VALUES (''*'',''*'',''Missing Routing''); ';

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET INSERT_DEFAULTS = @insert;]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[ef47099f-d3ba-41eb-a9b5-aebbf8818a3e]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[10]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Prepare table]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="ColTechIntName" type="java.lang.String">null</Field>
	<Field name="ColTxt" type="java.lang.String"><![CDATA[select DISABLE_SCRIPT as QUERY from <?=odiRef.getObjectName("ODI_DELETE_CONSTRAINTS") ?>]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[#QUERY]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[024c5586-efb0-4889-a16e-cc51b1def3a9]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[20]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Disable constraints]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenStep">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="CleanupOnError" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="ContextCode" type="java.lang.String">null</Field>
	<Field name="FContextCode" type="java.lang.String">null</Field>
	<Field name="GenInfo" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[d31a706b-560c-407e-998a-162ebb8cb5d8]]></Field>
	<Field name="IndLogMethod" type="java.lang.String"><![CDATA[Y]]></Field>
	<Field name="ITxtVarValue" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="JagentLschemaName" type="java.lang.String">null</Field>
	<Field name="KoExit" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="KoExitCode" type="java.lang.String">null</Field>
	<Field name="KoNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="KoRetry" type="com.sunopsis.sql.DbInt"><![CDATA[3]]></Field>
	<Field name="KoRetryInterv" type="com.sunopsis.sql.DbInt"><![CDATA[60]]></Field>
	<Field name="LschemaName" type="java.lang.String">null</Field>
	<Field name="MaxErr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="MaxErrPrct" type="java.lang.String">null</Field>
	<Field name="ModCode" type="java.lang.String">null</Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="OkExit" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="OkExitCode" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="OkNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="ResName" type="java.lang.String">null</Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="StepName" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS Delete tables]]></Field>
	<Field name="StepType" type="java.lang.String"><![CDATA[T]]></Field>
	<Field name="TableName" type="java.lang.String">null</Field>
	<Field name="VarIncr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="VarLongValue" type="java.lang.String">null</Field>
	<Field name="VarName" type="java.lang.String">null</Field>
	<Field name="VarOp" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String">null</Field>
	<Field name="ColTechIntName" type="java.lang.String">null</Field>
	<Field name="ColTxt" type="java.lang.String">null</Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[USE [<?=odiRef.getCatalogName() ?>]

DECLARE @list_of_tables NVARCHAR(MAX) = N'EP_PARTI, EP_PARTI_XXATTR, EP_PARTI_SIM, EP_PARTI_NODI, EP_MAGAZZINI, EP_AREE, EP_FORNITORI, EP_CLIENTI, EP_CANALI, EP_GIACENZE, EP_PIANO_VERSAMENTI, EP_ODL, EP_OC_TESTATA, EP_OC_RIGHE, EP_PREV_VENDITA, EP_DIST_PIANIF_TEST, EP_DIST_PIANIF_DETT, EP_CICLI_PIANIF_TEST, EP_CICLI_PIANIF_DETT, EP_DIMENSIONE1, EP_STO_VENDITE';

if not exists (select * from sysobjects where name='ODI_DELETE_CONSTRAINTS')

CREATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS -- feel free to use a permanent table
(
  DISABLE_SCRIPT NVARCHAR(MAX),
  ENABLE_SCRIPT NVARCHAR(MAX),
  DELETE_TABLES NVARCHAR(MAX),
  INSERT_DEFAULTS NVARCHAR(MAX)
);

TRUNCATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS; 
  
DECLARE @disable   NVARCHAR(MAX) = N'',
        @enable NVARCHAR(MAX) = N'',
        @delete   NVARCHAR(MAX) = N'',
        @insert NVARCHAR(MAX) = N'';

-- drop is easy, just build a simple concatenated list from sys.foreign_keys:
SELECT @disable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' NOCHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

INSERT [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS(DISABLE_SCRIPT) SELECT @disable;

SELECT @delete += N'DELETE FROM [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.' + ltrim(rtrim(value)) + '; '
FROM (select value from string_split(@list_of_tables,',')) P;

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET DELETE_TABLES = @delete;

SELECT @enable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' CHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET ENABLE_SCRIPT = @enable;


if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_PARTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_PARTI") ?> (PT_ID_PARTE,PT_ID_VERSIONE,PT_DESCR) VALUES (''*'',''*'',''Part not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_AREE')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_AREE") ?> (AR_ID_AREA,AR_DESCR) VALUES (''*'',''Not assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CLIENTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CLIENTI") ?> (CU_ID_CLIENTE,CU_DESCR) VALUES (''*'',''Customer not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CANALI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CANALI") ?> (CN_ID_CANALE,CN_DESCR) VALUES (''*'',''Not Assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_DIST_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_DIST_PIANIF_TEST") ?> (DT_ID_DISTINTA,DT_ID_VERSIONE,DT_DESCR) VALUES (''*'',''*'',''Missing BOM''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CICLI_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CICLI_PIANIF_TEST") ?> (CT_ID_CICLO,CT_ID_VERSIONE,CT_DESCR) VALUES (''*'',''*'',''Missing Routing''); ';

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET INSERT_DEFAULTS = @insert;]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[e2a1d41c-99f9-4546-9f53-62cd02a2ead6]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[10]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[3]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Prepare table]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="ColTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="ColTxt" type="java.lang.String"><![CDATA[select DELETE_TABLES as QUERY from <?=odiRef.getObjectName("ODI_DELETE_CONSTRAINTS") ?>]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[#QUERY]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[67b0be80-4658-4f1e-b6a7-9fec76844ea2]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String"><![CDATA[D]]></Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[30]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[4]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Delete table]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="ColTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="ColTxt" type="java.lang.String"><![CDATA[select INSERT_DEFAULTS as QUERY from <?=odiRef.getObjectName("ODI_DELETE_CONSTRAINTS") ?>]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[#QUERY]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[e8510015-9b03-4034-b6d5-358585c8c21c]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String"><![CDATA[I]]></Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[40]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[5]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Insert Default]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenStep">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="CleanupOnError" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="ContextCode" type="java.lang.String">null</Field>
	<Field name="FContextCode" type="java.lang.String">null</Field>
	<Field name="GenInfo" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[841bbe84-6b59-468f-ab38-2ec2db1ca9f8]]></Field>
	<Field name="IndLogMethod" type="java.lang.String"><![CDATA[Y]]></Field>
	<Field name="ITxtVarValue" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="JagentLschemaName" type="java.lang.String">null</Field>
	<Field name="KoExit" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="KoExitCode" type="java.lang.String">null</Field>
	<Field name="KoNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="KoRetry" type="com.sunopsis.sql.DbInt"><![CDATA[3]]></Field>
	<Field name="KoRetryInterv" type="com.sunopsis.sql.DbInt"><![CDATA[60]]></Field>
	<Field name="LschemaName" type="java.lang.String">null</Field>
	<Field name="MaxErr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="MaxErrPrct" type="java.lang.String">null</Field>
	<Field name="ModCode" type="java.lang.String">null</Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="OkExit" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="OkExitCode" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="OkNextStep" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ResName" type="java.lang.String">null</Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="StepName" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS Enable constraints]]></Field>
	<Field name="StepType" type="java.lang.String"><![CDATA[T]]></Field>
	<Field name="TableName" type="java.lang.String">null</Field>
	<Field name="VarIncr" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="VarLongValue" type="java.lang.String">null</Field>
	<Field name="VarName" type="java.lang.String">null</Field>
	<Field name="VarOp" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String">null</Field>
	<Field name="ColTechIntName" type="java.lang.String">null</Field>
	<Field name="ColTxt" type="java.lang.String">null</Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[USE [<?=odiRef.getCatalogName() ?>]

DECLARE @list_of_tables NVARCHAR(MAX) = N'EP_PARTI, EP_PARTI_XXATTR, EP_PARTI_SIM, EP_PARTI_NODI, EP_MAGAZZINI, EP_AREE, EP_FORNITORI, EP_CLIENTI, EP_CANALI, EP_GIACENZE, EP_PIANO_VERSAMENTI, EP_ODL, EP_OC_TESTATA, EP_OC_RIGHE, EP_PREV_VENDITA, EP_DIST_PIANIF_TEST, EP_DIST_PIANIF_DETT, EP_CICLI_PIANIF_TEST, EP_CICLI_PIANIF_DETT, EP_DIMENSIONE1, EP_STO_VENDITE';

if not exists (select * from sysobjects where name='ODI_DELETE_CONSTRAINTS')

CREATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS -- feel free to use a permanent table
(
  DISABLE_SCRIPT NVARCHAR(MAX),
  ENABLE_SCRIPT NVARCHAR(MAX),
  DELETE_TABLES NVARCHAR(MAX),
  INSERT_DEFAULTS NVARCHAR(MAX)
);

TRUNCATE TABLE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS; 
  
DECLARE @disable   NVARCHAR(MAX) = N'',
        @enable NVARCHAR(MAX) = N'',
        @delete   NVARCHAR(MAX) = N'',
        @insert NVARCHAR(MAX) = N'';

-- drop is easy, just build a simple concatenated list from sys.foreign_keys:
SELECT @disable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' NOCHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

INSERT [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS(DISABLE_SCRIPT) SELECT @disable;

SELECT @delete += N'DELETE FROM [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.' + ltrim(rtrim(value)) + '; '
FROM (select value from string_split(@list_of_tables,',')) P;

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET DELETE_TABLES = @delete;

SELECT @enable += N'
ALTER TABLE ' + '[<?=odiRef.getCatalogName() ?>].' + QUOTENAME(cs.name) + '.' + QUOTENAME(ct.name) 
    + ' CHECK CONSTRAINT ' + QUOTENAME(fk.name) + ';'
FROM sys.foreign_keys AS fk
INNER JOIN sys.tables AS ct
  ON fk.parent_object_id = ct.[object_id]
INNER JOIN sys.schemas AS cs 
  ON ct.[schema_id] = cs.[schema_id]
  where  OBJECT_NAME (referenced_object_id) COLLATE SQL_Latin1_General_CP1_CI_AS in (select ltrim(rtrim(value)) from string_split(@list_of_tables,','));

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET ENABLE_SCRIPT = @enable;


if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_PARTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_PARTI") ?> (PT_ID_PARTE,PT_ID_VERSIONE,PT_DESCR) VALUES (''*'',''*'',''Part not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_AREE')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_AREE") ?> (AR_ID_AREA,AR_DESCR) VALUES (''*'',''Not assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CLIENTI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CLIENTI") ?> (CU_ID_CLIENTE,CU_DESCR) VALUES (''*'',''Customer not defined''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CANALI')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CANALI") ?> (CN_ID_CANALE,CN_DESCR) VALUES (''*'',''Not Assigned''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_DIST_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_DIST_PIANIF_TEST") ?> (DT_ID_DISTINTA,DT_ID_VERSIONE,DT_DESCR) VALUES (''*'',''*'',''Missing BOM''); ';

if exists (select value from string_split(@list_of_tables,',') where ltrim(rtrim(VALUE))='EP_CICLI_PIANIF_TEST')

SELECT @insert += N'INSERT INTO <?=odiRef.getObjectName("EP_CICLI_PIANIF_TEST") ?> (CT_ID_CICLO,CT_ID_VERSIONE,CT_DESCR) VALUES (''*'',''*'',''Missing Routing''); ';

UPDATE [<?=odiRef.getCatalogName() ?>].<?=odiRef.getSchemaName() ?>.ODI_DELETE_CONSTRAINTS SET INSERT_DEFAULTS = @insert;]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[546a6ea1-dd4c-4ac9-84d3-5ef4c82d86a0]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[10]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[6]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Prepare table]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpScenTask">
		<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColEncKey" type="java.lang.String">null</Field>
	<Field name="ColEncKeyVect" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIndEnc" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="ColTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="ColTxt" type="java.lang.String"><![CDATA[select ENABLE_SCRIPT as QUERY from <?=odiRef.getObjectName("ODI_DELETE_CONSTRAINTS") ?>]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String">null</Field>
	<Field name="DefEncKey" type="java.lang.String">null</Field>
	<Field name="DefEncKeyVect" type="java.lang.String">null</Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIndEnc" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[SQLSERVER_EPMASTER]]></Field>
	<Field name="DefTechIntName" type="java.lang.String"><![CDATA[MICROSOFT_SQL_SERVER]]></Field>
	<Field name="DefTxt" type="java.lang.String"><![CDATA[#QUERY]]></Field>
	<Field name="ExeChannel" type="java.lang.String"><![CDATA[J]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[297e9610-9e01-4da5-ac52-8d50b0783335]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogMethod" type="java.lang.String">null</Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="Nno" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[50]]></Field>
	<Field name="ParScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ScenNo" type="com.sunopsis.sql.DbInt"><![CDATA[9]]></Field>
	<Field name="ScenTaskNo" type="com.sunopsis.sql.DbInt"><![CDATA[7]]></Field>
	<Field name="TaskName1" type="java.lang.String"><![CDATA[Procedure]]></Field>
	<Field name="TaskName2" type="java.lang.String"><![CDATA[SQL_STD_DELETE_AND_ENABLE_DISABLE_CONSTRAINTS]]></Field>
	<Field name="TaskName3" type="java.lang.String"><![CDATA[Enable constraints]]></Field>
	<Field name="TaskType" type="java.lang.String"><![CDATA[S]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_EXPTXTHEADER.4496]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[391369cf-6af0-4c11-a5be-9b43fca2b648]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_PACKAGE.16]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[da225487-bb75-372c-9be8-89f49d5dcf11]]></Field>
 <Field name="RefObjFQName" type="java.lang.String"><![CDATA[PRJ_EPMASTER_STD.SQLSERVER.0100_SQL_EP_DELETE_EPMASTER]]></Field>
 <Field name="RefObjFQType" type="java.lang.String"><![CDATA[SNP_PROJECT.SNP_FOLDER.SNP_PACKAGE]]></Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String"><![CDATA[16.9.27]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_SCEN.9]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[007808d0-0c19-3e32-8dcb-4d4145e1013e]]></Field>
 <Field name="RefObjFQName" type="java.lang.String"><![CDATA[PRJ_EPMASTER_STD.SQLSERVER.0100_SQL_EP_DELETE_EPMASTER.0100_SQL_EP_DELETE_EPMASTER Version 001]]></Field>
 <Field name="RefObjFQType" type="java.lang.String"><![CDATA[SNP_PROJECT.SNP_FOLDER.SNP_PACKAGE.SNP_SCEN]]></Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String"><![CDATA[16.9.27.39]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_SCENSTEP.9.0]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[f942685b-dfe7-425d-8e55-1b93378aff30]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_SCENSTEP.9.1]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[d31a706b-560c-407e-998a-162ebb8cb5d8]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_SCENSTEP.9.2]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[841bbe84-6b59-468f-ab38-2ec2db1ca9f8]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpImportRep">
		<Field name="GlobalId" type="java.lang.String"><![CDATA[208f28e6-058f-48ac-b2e6-b9eb1154d8dc]]></Field>
	<Field name="RepGuid" type="java.lang.String">null</Field>
	<Field name="RepShortId" type="com.sunopsis.sql.DbInt"><![CDATA[11]]></Field>
	<Field name="RepTimestamp" type="java.lang.String"><![CDATA[1732629246076]]></Field>
</Object>
<Object class="com.sunopsis.dwg.DwgExportSummary">
		<Field name="ExpTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="InstObjNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="JoinColNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="JoinNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="KeyColNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="KeyNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="LinkDiagNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="MorigTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="MtxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OrigTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OtherObjectsNb" type="com.sunopsis.sql.DbInt"><![CDATA[11]]></Field>
	<Field name="PlanAgentNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="StepNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="TxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="UeOrigNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="UeUsedNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="VarPlanAgentNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="ScenTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OdiVersion" type="java.lang.String"><![CDATA[12.2.1]]></Field>
	<Field name="OriginRepositoryID" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="RepositoryVersion" type="java.lang.String"><![CDATA[05.02.02.11]]></Field>
</Object>
</SunopsisExport>
